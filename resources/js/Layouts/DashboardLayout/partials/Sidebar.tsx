import React from "react";
import {HasRole} from "@/Components";
import Icon from "@/Components/Icon";
import {SidebarNavLink} from "../components";
import {usePageContext} from "@/Contexts/PageContext";
import {twMerge} from "tailwind-merge";

export default function Sidebar() {
  const {sideBarOpened} = usePageContext();

  return <div className={twMerge('sidebar expanded', sideBarOpened && 'opened')}>
    {/*<div className="px-3 pt-3 hidden sm:inline-block">
      <BurgerButton/>
    </div>*/}
    <div className="flex mx-auto flex-grow mt-4 flex-col text-gray-400 space-y-2 p-3 w-full">
      <SidebarNavLink href={route('welcome')} active={route().current() == 'welcome'}>
        <svg className="h-5" height="20" viewBox="0 0 512 512"><path d="M197.332 170.668h-160C16.746 170.668 0 153.922 0 133.332v-96C0 16.746 16.746 0 37.332 0h160c20.59 0 37.336 16.746 37.336 37.332v96c0 20.59-16.746 37.336-37.336 37.336zM37.332 32A5.336 5.336 0 0 0 32 37.332v96a5.337 5.337 0 0 0 5.332 5.336h160a5.338 5.338 0 0 0 5.336-5.336v-96A5.337 5.337 0 0 0 197.332 32zM197.332 512h-160C16.746 512 0 495.254 0 474.668v-224c0-20.59 16.746-37.336 37.332-37.336h160c20.59 0 37.336 16.746 37.336 37.336v224c0 20.586-16.746 37.332-37.336 37.332zm-160-266.668A5.337 5.337 0 0 0 32 250.668v224A5.336 5.336 0 0 0 37.332 480h160a5.337 5.337 0 0 0 5.336-5.332v-224a5.338 5.338 0 0 0-5.336-5.336zM474.668 512h-160c-20.59 0-37.336-16.746-37.336-37.332v-96c0-20.59 16.746-37.336 37.336-37.336h160c20.586 0 37.332 16.746 37.332 37.336v96C512 495.254 495.254 512 474.668 512zm-160-138.668a5.338 5.338 0 0 0-5.336 5.336v96a5.337 5.337 0 0 0 5.336 5.332h160a5.336 5.336 0 0 0 5.332-5.332v-96a5.337 5.337 0 0 0-5.332-5.336zM474.668 298.668h-160c-20.59 0-37.336-16.746-37.336-37.336v-224C277.332 16.746 294.078 0 314.668 0h160C495.254 0 512 16.746 512 37.332v224c0 20.59-16.746 37.336-37.332 37.336zM314.668 32a5.337 5.337 0 0 0-5.336 5.332v224a5.338 5.338 0 0 0 5.336 5.336h160a5.337 5.337 0 0 0 5.332-5.336v-224A5.336 5.336 0 0 0 474.668 32zm0 0" fill="currentColor"></path></svg>
        <span>Dashboard</span>
      </SidebarNavLink>
      <HasRole roles={['admin']}>
        <SidebarNavLink href={route('users.index')} active={route().current().startsWith('users.')}>
          <svg className="h-5" viewBox="0 0 512 512"><path d="M437.02 330.98c-27.883-27.882-61.071-48.523-97.281-61.018C378.521 243.251 404 198.548 404 148 404 66.393 337.607 0 256 0S108 66.393 108 148c0 50.548 25.479 95.251 64.262 121.962-36.21 12.495-69.398 33.136-97.281 61.018C26.629 379.333 0 443.62 0 512h40c0-119.103 96.897-216 216-216s216 96.897 216 216h40c0-68.38-26.629-132.667-74.98-181.02zM256 256c-59.551 0-108-48.448-108-108S196.449 40 256 40s108 48.448 108 108-48.449 108-108 108z" fill="currentColor"></path></svg>
          <span>Пользователи</span>
        </SidebarNavLink>
      </HasRole>
      <HasRole roles={['tomoru', 'worker']}>
        <SidebarNavLink href="/requests">
          <svg width="20" viewBox="0 0 512 512" className="h-5"><g><path d="M352.459 220c0-11.046-8.954-20-20-20h-206c-11.046 0-20 8.954-20 20s8.954 20 20 20h206c11.046 0 20-8.954 20-20zM126.459 280c-11.046 0-20 8.954-20 20s8.954 20 20 20H251.57c11.046 0 20-8.954 20-20s-8.954-20-20-20H126.459z" fill="currentColor"></path><path d="M173.459 472H106.57c-22.056 0-40-17.944-40-40V80c0-22.056 17.944-40 40-40h245.889c22.056 0 40 17.944 40 40v123c0 11.046 8.954 20 20 20s20-8.954 20-20V80c0-44.112-35.888-80-80-80H106.57c-44.112 0-80 35.888-80 80v352c0 44.112 35.888 80 80 80h66.889c11.046 0 20-8.954 20-20s-8.954-20-20-20z" fill="currentColor"></path><path d="M467.884 289.572c-23.394-23.394-61.458-23.395-84.837-.016l-109.803 109.56a20.005 20.005 0 0 0-5.01 8.345l-23.913 78.725a20 20 0 0 0 24.476 25.087l80.725-22.361a19.993 19.993 0 0 0 8.79-5.119l109.573-109.367c23.394-23.394 23.394-61.458-.001-84.854zM333.776 451.768l-40.612 11.25 11.885-39.129 74.089-73.925 28.29 28.29-73.652 73.514zM439.615 346.13l-3.875 3.867-28.285-28.285 3.862-3.854c7.798-7.798 20.486-7.798 28.284 0 7.798 7.798 7.798 20.486.014 28.272zM332.459 120h-206c-11.046 0-20 8.954-20 20s8.954 20 20 20h206c11.046 0 20-8.954 20-20s-8.954-20-20-20z" fill="currentColor"></path></g></svg>
          <span>Заявки</span>
        </SidebarNavLink>
      </HasRole>
      <HasRole roles={['manager']}>
        <SidebarNavLink href={route('kanban.index')} active={route().current().startsWith('kanban.')}>
          <svg height="20" className="h-5" viewBox="0 0 24 24"><g><path d="M8.269 1.25H4.23c-2.006 0-2.981.932-2.981 2.85v15.8c0 1.918.975 2.85 2.981 2.85H8.27c2.006 0 2.981-.932 2.981-2.85V4.1c0-1.918-.975-2.85-2.981-2.85zM9.75 19.9c0 1.013-.214 1.35-1.481 1.35H4.23c-1.267 0-1.481-.337-1.481-1.35V4.1c0-1.013.214-1.35 1.481-1.35H8.27c1.267 0 1.481.337 1.481 1.35zM19.769 1.25H15.73c-2.006 0-2.981.932-2.981 2.85v8.8c0 1.918.975 2.85 2.981 2.85h4.038c2.006 0 2.981-.932 2.981-2.85V4.1c0-1.918-.975-2.85-2.981-2.85zM21.25 12.9c0 1.013-.214 1.35-1.481 1.35H15.73c-1.267 0-1.481-.337-1.481-1.35V4.1c0-1.013.214-1.35 1.481-1.35h4.038c1.267 0 1.481.337 1.481 1.35z" fill="currentColor"></path></g></svg>
          <span>Канбан</span>
        </SidebarNavLink>
        <SidebarNavLink href="/clients">
          <svg height="20" className="h-5" viewBox="0 0 32 32"><g><g fill="currentColor" fillRule="evenodd" clipRule="evenodd"><path d="M11 8a5.5 5.5 0 1 0 0 11 5.5 5.5 0 0 0 0-11zm-7.5 5.5a7.5 7.5 0 1 1 15 0 7.5 7.5 0 0 1-15 0zM21.184 6h.004a7.5 7.5 0 0 1 0 15 1 1 0 1 1 0-2 5.5 5.5 0 0 0 .001-11 5.813 5.813 0 0 0-1.502.203 1 1 0 0 1-.524-1.93A7.813 7.813 0 0 1 21.184 6z"></path><path d="M11 21a10 10 0 0 0-8.182 4.25 1 1 0 1 1-1.636-1.15 12 12 0 0 1 19.636 0 1 1 0 0 1-1.636 1.15A10 10 0 0 0 11 21zM25.798 22.124A9.988 9.988 0 0 0 21.188 21a1 1 0 1 1-.001-2 11.987 11.987 0 0 1 9.819 5.1 1 1 0 1 1-1.637 1.15 9.988 9.988 0 0 0-3.57-3.126z"></path></g></g></svg>
          <span>Клиенты</span>
        </SidebarNavLink>
        <SidebarNavLink href="/workers">
          <svg height="20" className="h-5" viewBox="0 0 48 48"><g><path d="M45 33.14c0-4.16.28-8.68-3.17-14.21a2 2 0 0 0-.21-2.46l-2.91-3.11A2 2 0 0 0 36.3 13a20.83 20.83 0 0 0-7.41-3.4 3 3 0 0 0-.81-1.67C27 6.74 26 7 22.08 7a3 3 0 0 0-3 2.59A21.07 21.07 0 0 0 11.7 13c-1.82-1-2.89.88-5.32 3.48a2 2 0 0 0-.21 2.46C2.73 24.45 3 29 3 33.14A4 4 0 0 0 4 41h40a4 4 0 0 0 1-7.86ZM43 33H28l.82-21.37a19.09 19.09 0 0 1 6.23 2.95l-4.47 8.94A2.61 2.61 0 0 0 33 27.29c1.47 0 1.47-.42 7.42-6.81C43.28 25.37 43 29.35 43 33Zm-2.84-15.17c-7.34 7.89-6.82 7.46-7.19 7.46a.61.61 0 0 1-.56-.88l4.84-9.68Zm-18.8-8.52c.39-.41.4-.31 4.56-.31a1 1 0 0 1 1 1L26 33h-4c-1-24.95-1.07-23.25-.64-23.69Zm-10.61 5.42c5.17 10.34 5.16 9.94 4.72 10.38a.6.6 0 0 1-.87 0l-6.76-7.28Zm-3.18 5.75 5.56 6a2.61 2.61 0 0 0 4.25-2.94l-4.47-8.94a19.28 19.28 0 0 1 6.23-2.95L20 33H5c0-4.13-.21-7.75 2.57-12.52ZM44 39H4a2 2 0 0 1 0-4h40a2 2 0 0 1 0 4Z" fill="currentColor"></path></g></svg>
          <span>Исполнители</span>
        </SidebarNavLink>
        <SidebarNavLink href="/addresses">
          <Icon icon="locate" size="20" className="h-5"/>
          <span>МКД</span>
        </SidebarNavLink>
        <SidebarNavLink href="/objects">
          <Icon icon="objects" size="20" className="h-5"/>
          <span>Объекты КСОБЖ</span>
        </SidebarNavLink>
      </HasRole>
    </div>
  </div>
}
